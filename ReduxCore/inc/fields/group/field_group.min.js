(function(e){"use strict";function t(t){console.log(t);var n=e(t).parents().attr("id");console.log(n);var r=e("#"+n+" .redux-group-header");console.log(r);var i=e("#"+n+" .slide-title");console.log(i);e("#"+n+" h3 span").hide();e(i).attr("type","text");e(i).attr("data-orig",e(i).val());i.focus();i.keydown(function(e){e.keyCode===13&&i.blur()});i.blur(function(){if(e(this).val()!==""){e(this).attr("data-orig",e(this).val());console.log("#"+n+" .redux-groups-header");e("#"+n+" .redux-groups-header").text(e(this).val())}else e(this).val(e(this).attr("data-orig"));e(i).attr("type","hidden");e("#"+n+" .redux-groups-header").show()})}e.redux.group=e.group||{};e(document).ready(function(){e.redux.group()});e.redux.group=function(){e("#redux-groups-accordion").accordion({header:"> div > h3",collapsible:!0,active:!1,heightStyle:"content",icons:{header:"ui-icon-plus",activeHeader:"ui-icon-minus"}}).sortable({axis:"y",handle:"h3",stop:function(t,n){n.item.children("h3").triggerHandler("focusout");var r=e("input.slide-sort");r.each(function(t){e(this).val(t)})}});e(".redux-container-group").on("hover","h3 span.redux-groups-header",function(){e(this).addClass("editHover")},function(){e(this).removeClass("editHover")});e(".redux-container-group").each(function(){e(this).on("click","h3 span.redux-groups-header",function(){t(e(this).parent())})});e(".redux-container-group").on("click",".redux-groups-remove",function(){var t=e("#"+e(this).attr("rel"));t.find('input[type="text"]').val("");t.find('input[type="hidden"]').val("");t.slideUp("medium",function(){e(this).remove()})});e(".redux-container-group").on("click",".redux-groups-add",function(){var n=e(this).attr("data-count"),r=parseInt(n)+1;e(this).attr("data-count",r);e(".redux-container-group").find(".redux-groups-add").attr("data-count",r);var i=e(this).prev().find(".redux-groups-accordion-group:last").clone(!0);e(i).find("h3 .redux-groups-header").text("New");e(i).find("h3 .slide-title").val("New");e(i).attr("id","group-group-"+n);e(this).prev().append(i);e(".redux-container-group").on("click","h3 span.redux-groups-header",function(){t(e(this).parent())});e(i).find("fieldset").each(function(){var t=e(this),n=t.data("id");typeof n!="undefined"&&n!==!1});e(i).find('input[type="text"], input[type="hidden"], textarea , select').each(function(){var t=e(this).attr("name"),r=e(this).attr("id"),s=e(this).attr("id");if(typeof r!="undefined"&&r!==!1){var o=e(this).attr("id");e(this).attr("id",e(this).attr("id").replace(/\d+(?!.*\d+)/,n))}typeof t!="undefined"&&t!==!1&&e(this).attr("name",e(this).attr("name").replace(/\d+(?!.*\d+)/,n));if(e(this).prop("tagName")==="SELECT"){e(i).find(".select2-container").remove();e(i).find("select").removeClass("select2-offscreen")}e(this).val("");e(this).hasClass("slide-sort")&&e(this).val(n)})})}})(jQuery);